# Описание

## Используемые технологии

+ .NET Framework 4.6.1
+ C# 6.0
+ Windows Presentation Foundation (WPF)

## Алгоритм

Для мониторинга таких характеристик компьютера, как ОЗУ, ЦПУ и нагрузки на дисковую систему используется класс PerfomanceCounter из пространства имен System.Diagnostics, который может получать прямой доступ к данным операционной системы и считывать их. 

Для мониторинга нагрузки на сеть используется класс NetworkInterface из пространства имён System.Net.NetworkInformation. Через статический метод GetAllNetworkInterfaces получаются все сетевые интерфейсы системы, затем для каждого из них получается статистика подключения IPv4 через метод GetIPv4Statistics. Из статистики берётся количество принятых/отправленных байтов данных, на основе которых и определяется пропускная способность сети.

## Установка

Для клиента и для сервера предусмотрены отдельные установщики, работающие одинаковым образом. Клиент: ClientInstaller.msi, сервер: ServerInstaller.msi. Процесс установки такой же, как и других программ под Windows.

## Использование

### Клиент

#### Интерфейс

При запуске приложения открывается окно настроек:

![client_interface](pictures/clientinterface.png)

Для запуска приложения требуется ввести валидные данные и нажать кнопку **СТАРТ**. При указании неверных данных форма будет подсвечена красным цветом:

![client_error](pictures/clienterror.png)

При попытке запуска с неверными данными будет показано сообщение о необходимости исправления данных:

![client_message](pictures/clientmessage.png)

После корректного запуска приложения будет произведена попытка подключения к серверу. При удачном или неудачном подключении будет выведено соответствующее сообщение.

![client_connect](pictures/clientconnect.png)

В случае, когда значение какого-либо из параметров превышает заданной в настройках, на экран будет выведено сообщение о произошедшем:

![client_notify](pictures/clientnotify.png)

При удачном подключении к серверу данное сообщение будет отражено в логах сервера.

При потере соединения с сервером будет показано соответствующее сообщение:

![lost_server](pictures/clientlost.png)

#### Данные

Клиент хранит свои данные в специальной папке Windows, предназначенной для хранения данных программ:

```powershell
%AppData%/BsuirTech/MonitorTool/
```

Чтобы попасть в папку %AppData%, зажмите Win+R и впишите в открывшееся окно

```powershell
%appdata%
```

В папке приложения есть два файла: Logs.txt и Config.xml. Файл Config.xml хранит параметры, с которыми приложение было запущено в последний раз. Файл Logs.txt хранит все сообщения, которые были показаны пользователю.

### Сервер

#### Интерфейс

При запуске сервера откроется консольное окно, в котором надо поочередно ввести IP адрес сервера и его порт. При повторном запуске сервера будет предложено оставить ввод пустым, чтобы использовать предыдущие значения:

![server_interface](pictures/serverinterface.png)

При подключении клиентского приложения к серверу будет показано сообщение о подключении клиента. Соответствующее сообщение также будет показано при отключении клиента:

![server_client](pictures/serverclient.png)

#### Данные

Сервер также хранит свои данные в специальной папке Windows:

```powershell
%AppData%/BsuirTech/MonitorServer/
```

В папке приложения есть два файла: Logs.txt и Config.xml. Файл Config.xml хранит IP адрес и порт, с которыми сервер был запущен в последний раз. Файл Logs.txt хранит все сообщения, которые были поступили от клиентских устройств.